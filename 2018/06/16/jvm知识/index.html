<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>jvm֪ʶ��С��֮һ</title><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/css/highlight.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"></head><body><nav class="main-nav"><a href="/">首页</a><a href="/archives">归档</a></nav><div class="profile"><section id="wrapper"><header id="header"><a href="/about"><img class="2x" id="avatar" src="/images/avatar.png"></a><h1>Fairy</h1><h2></h2></header></section></div><section class="post" id="wrapper"><article><header><h1>jvm֪ʶ��С��֮һ</h1><h2 class="headline">Jun 16, 2018 9:31·137 words
·1 minutes read<span class="tags"></span></h2></header><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#���ʵ����˳��"><span class="toc-text">���ʵ����˳��</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JVM���ڴ�ɷ�Ϊ3������"><span class="toc-text">JVM���ڴ�ɷ�Ϊ3������</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#��-heap-��ջ-stack-�ͷ�����-method"><span class="toc-text">��(heap)��ջ(stack)�ͷ�����(method)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#����"><span class="toc-text">����:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ջ��"><span class="toc-text">ջ��:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#������"><span class="toc-text">������:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#�������ջ���-GC"><span class="toc-text">�������ջ���(GC)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#�ڴ��Z�"><span class="toc-text">�ڴ��Ż�</span></a></li></ol></li></ol></div><section id="post-body"><h2 id="���ʵ����˳��"><a href="#���ʵ����˳��" class="headerlink" title="���ʵ����˳��"></a>���ʵ����˳��</h2><p>1.����ľ�̬�����;�̬�����<br>2.ִ������ľ�̬�����;�̬�����<br>3.ִ�и���ĳ�Ա������ֵ<br>4.ִ�и���Ĺ�������<br>5.ִ�и���Ĺ��췽������<br>6.ִ������Ĺ�������<br>7.ִ������Ĺ��췽��������</p>
<h2 id="JVM���ڴ�ɷ�Ϊ3������"><a href="#JVM���ڴ�ɷ�Ϊ3������" class="headerlink" title="JVM���ڴ�ɷ�Ϊ3������"></a>JVM���ڴ�ɷ�Ϊ3������</h2><h2 id="��-heap-��ջ-stack-�ͷ�����-method"><a href="#��-heap-��ջ-stack-�ͷ�����-method" class="headerlink" title="��(heap)��ջ(stack)�ͷ�����(method)"></a>��(heap)��ջ(stack)�ͷ�����(method)</h2><h3 id="����"><a href="#����" class="headerlink" title="����:"></a>����:</h3><p>1.�洢��ȫ���Ƕ���ÿ�����󶼰���һ����֮��Ӧ��class����Ϣ��(class��Ŀ���ǵõ�����ָ��)<br>2.jvmֻ��һ������(heap)�������̹߳������в���Ż������ͺͶ������ã�ֻ��Ŷ�����</p>
<h3 id="ջ��"><a href="#ջ��" class="headerlink" title="ջ��:"></a>ջ��:</h3><p>1.ÿ���̰߳���һ��ջ����ջ��ֻ��������������͵Ķ�����Զ�����������(���Ƕ���)�����󶼴���ڶ�����<br>2.ÿ��ջ�е�����(ԭʼ���ͺͶ�������)����˽�еģ�����ջ���ܷ��ʡ�<br>3.ջ��Ϊ3�����֣��������ͱ�������ִ�л��������ġ�����ָ����(��Ų���ָ��)��</p>
<h3 id="������"><a href="#������" class="headerlink" title="������:"></a>������:</h3><p>1.�ֽо�̬��������һ���������е��̹߳���<br>2.�������а����Ķ�����������������ԶΨһ��Ԫ�أ���class��static������</p>
<h2 id="�������ջ���-GC"><a href="#�������ջ���-GC" class="headerlink" title="�������ջ���(GC)"></a>�������ջ���(GC)</h2><p>�����ռ�������ָjvm�����ͷ���Щ����ʹ�õĶ�����ռ�õ��ڴ档</p>
<p>����ԭ��:</p>
<blockquote>
<p>���ü���,��Ǹ���”���ü���”��һ�ּ򵥵��ٶȺ������������ռ���.���ж�����һ�����ü�����,������������ʱ��������1,�������뿪������ʱ���߱�����NULLʱ,������-1,�����������������а����������õ��б��Ͻ��б���,������ĳ����������ü���Ϊ0ʱ,���ͷ�ռ�õĿռ�.”��Ǹ���”�����л���,�������������������������õ��б�,�����ִ��Ķ�������ʱ���ϱ��,���������������ж������ò����ϱ�ǵ�ʱ��,ִ����������,��û�б�ǵĶ���ѿռ��ͷ�.</p>
</blockquote>
<h3 id="�ڴ��Z�"><a href="#�ڴ��Z�" class="headerlink" title="�ڴ��Ż�"></a>�ڴ��Ż�</h3><p>1.�ڴ�����Ĵ���,һ�������ڴ��������,��ʱӦ���Ż�����:</p>
<blockquote>
</blockquote>
<p>��һ��������ѭ������ϸ�����򣬷�ֹ������ѭ�������ǱȽ����׼��ġ�</p>
<blockquote>
</blockquote>
<p>�ڶ��������ʵ��ֶ�������������ʹ����System.gc()��Runtime.gc()��</p>
<blockquote>
</blockquote>
<p>������Ӧ�ü�ʱ�ͷŸ�����Դ���ڴ�, ���ݿ�ĸ������ӡ��ͷ���Դ��ʱ����������java�������Զ����ջ��ƣ����Ҳ��Ҫ��finalize��������Ϊ���õ�Ԫ���ղ���һ����ȫ����ȷ���Ĺ��̣���Ϊ�����ȼ����̣�������ϵͳû���ڴ�ʱ�ŵ����������ս��̡�</p>
<p>2.����jvm���ڴ��С</p>
<blockquote>
</blockquote>
<p>һ������������JVM�Ķ�ջ�ڴ���漰�������ĸ�������</p>
<blockquote>
</blockquote>
<ul>
<li>Xmx     ����Java Heap���ֵ����-Xmx128m ��Ĭ��ֵΪ�����ڴ��1/4�������ֵӦ���������ڴ��С��������������ڴ濪��������</li>
<li>Xms     ����Java Heap��ʼֵ����-Xms64m �� Server��JVM��ý�-Xms��-Xmx��Ϊ��ֵͬ���������Ի�JVM���Ա���Ĭ��ֵ��</li>
<li>Xmn     ����Java Heap Young����С����-Xmn32m �� ����Ϥ��ñ���Ĭ��ֵ��</li>
<li>Xss      ����ÿ���̵߳�Stack��С����-Xss16m �� ����Ϥ��ñ���Ĭ��ֵ��<blockquote>
</blockquote>
�������������Ǹ��Ƕ�ջ�ڴ��йصģ�<blockquote>
</blockquote>
</li>
<li>XX:PermSize             ���÷Ƕ��ڴ��ʼ��С����-XX:PermSize=56m��Ĭ���������ڴ��1/6 ��</li>
<li>XX:MaxPermSize       �������Ƕ��ڴ�Ĵ�С����-XX:MaxPermSize=128m��Ĭ���������ڴ��1/4 ��</li>
</ul>
</section><nav id="post-nav"><span class="prev"></span><span class="next"><a href="/2018/06/10/Oracle常用指令/">Older Posts<span class="arrow">→</span></a></span></nav></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/fairyll"><i class="fa fa-github"></i></a></div><p class="small">因果也是种选择 &nbsp<i class="fa fa-heart" aria-hidden="true">&nbsp Fairy</i></p></footer></body></html>